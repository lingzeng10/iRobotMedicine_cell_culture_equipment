# 📱 工單管理系統 - 分享給朋友使用指南

## 🎯 快速開始

### 方法一：使用自動啟動腳本（推薦）

1. **雙擊運行** `start-for-sharing.bat`
2. **等待服務啟動**（約 10-15 秒）
3. **分享網址**給朋友：腳本會顯示您的 IP 地址和訪問網址

---

## 📍 獲取您的 IP 地址

如果沒有使用自動啟動腳本，您可以：

### Windows 方式：
```bash
# 雙擊運行
get-ip.bat

# 或手動查詢
ipconfig | findstr /i "IPv4"
```

### 顯示結果類似：
```
IPv4 地址 . . . . . . . . . . . . : 192.168.0.186
```

---

## 🌐 啟動服務（允許外部訪問）

### 選項 A：使用分享腳本（最簡單）
```bash
start-for-sharing.bat
```

### 選項 B：手動啟動

**1. 啟動後端服務**（已配置為允許外部訪問）
```bash
cd server
npm run dev
```

**2. 啟動前端服務**（需要設置環境變數）

在 PowerShell 中：
```powershell
cd client
$env:HOST="0.0.0.0"
$env:REACT_APP_API_URL="http://192.168.0.186:5000/api"
npm start
```

或者創建 `.env` 文件在 `client/` 目錄下：
```env
HOST=0.0.0.0
REACT_APP_API_URL=http://192.168.0.186:5000/api
```

**注意**：請將 `192.168.0.186` 替換為您的實際 IP 地址！

---

## 🔗 分享訪問地址

### 前端網頁（給朋友訪問）
```
http://您的IP地址:3000
例如：http://192.168.0.186:3000
```

### 後端 API（如需直接測試 API）
```
http://您的IP地址:5000
例如：http://192.168.0.186:5000
```

---

## ✅ 訪問條件

### 必須滿足：
1. ✅ **同一網路**：您的電腦和朋友的設備必須連接到同一個 WiFi 或區域網路
2. ✅ **服務運行中**：確保前端和後端服務都在運行
3. ✅ **防火牆允許**：Windows 防火牆需要允許 Node.js 的網路訪問

---

## 🔥 Windows 防火牆設定

### 如果朋友無法訪問，請檢查防火牆：

**方法一：通過控制台**
1. 打開「控制台」→「系統與安全性」→「Windows Defender 防火牆」
2. 點擊「允許應用程式通過防火牆」
3. 找到「Node.js」或「Node.exe」
4. 勾選「私人網路」選項
5. 如果找不到，點擊「變更設定」→「允許另一個應用程式」→ 選擇 Node.js

**方法二：通過 PowerShell（管理員權限）**
```powershell
# 允許 Node.js 通過防火牆（私有網路）
New-NetFirewallRule -DisplayName "Node.js Server" -Direction Inbound -Program "C:\Program Files\nodejs\node.exe" -Action Allow -Profile Private
```

**方法三：暫時關閉防火牆測試**
⚠️ **僅用於測試，不建議長期使用**

---

## 📱 不同設備訪問方式

### 💻 電腦/筆記本
1. 打開瀏覽器（Chrome、Edge、Firefox 等）
2. 輸入：`http://您的IP:3000`
3. 例如：`http://192.168.0.186:3000`

### 📱 手機/平板（同一 WiFi）
1. 連接到與您電腦相同的 WiFi
2. 打開手機瀏覽器
3. 輸入：`http://您的IP:3000`
4. 例如：`http://192.168.0.186:3000`

---

## 🔍 故障排除

### 問題 1：朋友無法訪問網頁
**可能原因**：
- ❌ 不在同一網路
- ❌ 防火牆阻擋
- ❌ 服務未啟動

**解決方法**：
1. 確認兩個設備在同一 WiFi
2. 檢查防火牆設定（見上方）
3. 確認服務正在運行（查看命令提示字元視窗）

### 問題 2：網頁打開但 API 錯誤
**可能原因**：
- ❌ 前端使用的 API URL 是 `localhost`，而不是您的 IP

**解決方法**：
1. 使用 `start-for-sharing.bat` 自動設置
2. 或手動設置環境變數 `REACT_APP_API_URL`

### 問題 3：可以訪問但功能不正常
**可能原因**：
- ❌ 後端服務未啟動
- ❌ 後端監聽地址錯誤

**解決方法**：
確認後端服務正在運行，並檢查 `server/index.js` 中的監聽設定為 `0.0.0.0`

---

## 🌍 跨網際網路分享（進階）

如果您想讓朋友從不同的網路（例如不同城市）訪問，需要：

1. **使用內網穿透工具**：
   - ngrok
   - localtunnel
   - Cloudflare Tunnel

2. **範例：使用 ngrok**
   ```bash
   # 安裝 ngrok
   # 下載：https://ngrok.com/
   
   # 啟動後端服務
   cd server && npm run dev
   
   # 在另一個終端運行
   ngrok http 5000
   
   # 會得到類似：https://abc123.ngrok.io
   # 分享這個網址給朋友
   ```

3. **注意事項**：
   - ⚠️ 公開分享可能帶來安全風險
   - ⚠️ 建議僅用於測試環境
   - ⚠️ 生產環境需要配置 HTTPS 和認證

---

## 📋 檢查清單

分享前請確認：
- [ ] 後端服務正在運行（端口 5000）
- [ ] 前端服務正在運行（端口 3000）
- [ ] 已經設置 `HOST=0.0.0.0`
- [ ] 已經設置 `REACT_APP_API_URL` 為您的 IP 地址
- [ ] 防火牆已允許 Node.js 訪問
- [ ] 知道您的本機 IP 地址
- [ ] 朋友與您在同一網路

---

## 💡 提示

1. **IP 地址可能會變**：重新連接 WiFi 後 IP 地址可能會改變，記得重新檢查
2. **使用固定 IP**：如果經常分享，建議在路由器中為您的電腦設置固定 IP
3. **測試連線**：可以先在您的手機（同一 WiFi）上測試是否能訪問
4. **分享 API 文檔**：可以分享 `server/API_COMPLETE.md` 給朋友查看所有 API 端點

---

## 📞 需要幫助？

如果遇到問題，請檢查：
1. 終端視窗的錯誤訊息
2. 瀏覽器開發者工具的 Console（F12）
3. 網路連線狀態
4. 服務日誌輸出

---

祝您分享順利！🎉

